<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta content="width=device-width, initial-scale=1.0" name="viewport" />
        <title>StoryCraft</title>
        <meta name="description" content="" />
        <meta name="keywords" content="" />

        <style></style>

        <!-- Favicons -->
        <link href="assets/img/favicon.png" rel="icon" />
        <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon" />

        <!-- Fonts -->
        <link href="https://fonts.googleapis.com" rel="preconnect" />
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Nunito:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
            rel="stylesheet"
        />

        <!-- Vendor CSS Files -->
        <link
            href="assets/vendor/bootstrap/css/bootstrap.min.css"
            rel="stylesheet"
        />
        <link
            href="assets/vendor/bootstrap-icons/bootstrap-icons.css"
            rel="stylesheet"
        />
        <link href="assets/vendor/aos/aos.css" rel="stylesheet" />
        <link
            href="assets/vendor/glightbox/css/glightbox.min.css"
            rel="stylesheet"
        />
        <link
            href="assets/vendor/swiper/swiper-bundle.min.css"
            rel="stylesheet"
        />

        <!-- Main CSS File -->
        <link href="assets/css/main.css" rel="stylesheet" />

        <!-- =======================================================
  * Template Name: Bikin
  * Template URL: https://bootstrapmade.com/bikin-free-simple-landing-page-template/
  * Updated: Aug 07 2024 with Bootstrap v5.3.3
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
    </head>

    <body class="index-page">
        <header id="header" class="header d-flex align-items-center sticky-top">
            <div
                class="container position-relative d-flex align-items-center justify-content-between"
            >
                <a
                    href="index.html"
                    class="logo d-flex align-items-center me-auto me-xl-0"
                >
                    <!-- Uncomment the line below if you also wish to use an image logo -->
                    <!-- <img src="assets/img/logo.png" alt=""> -->
                    <h1 class="sitename">StoryCraft</h1>
                </a>

                <nav id="navmenu" class="navmenu">
                    <ul>
                        <li>
                            <!-- <a href="index.html#hero">Home</a>
                        </li>
                        <li><a href="index.html#about">About</a></li>
                        <li><a href="index.html#services">Services</a></li> -->
                        </li>

                        <li><a href="search.html">Search</a></li>
                        <li><a href="rewrite.html">Rewrite</a></li>
                        <li><a href="change-style.html">Style</a></li>
                        <li>
                            <a href="grammar.html" class="active">Grammar</a>
                        </li>
                        <li><a href="honorific.html">Honorific</a></li>
                        <li><a href="translate.html">Translate</a></li>
                        <li><a href="image.html">Scan</a></li>
                        <li><a href="speech.html">Speech</a></li>
                        <li><a href="editor.html">Editor</a></li>
                    </ul>
                    <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
                </nav>
            </div>
        </header>

        <main class="main page-wrap">
            <div class="container section-title" data-aos="fade-up">
                <div class="container">
                    <div class="page-button">
                        <button id="grammarBtn" class="resultBtn_SC">
                            <span>ë¬¸ë²• êµì • ğŸ–Šï¸</span>
                        </button>
                        <button
                            id="pdfDownloadBtn"
                            class="resultAreaPdfDownloadBtn_SC"
                        >
                            ğŸ’¾
                        </button>
                    </div>
                    <div class="page-inputResult">
                        <textarea
                            id="userInput"
                            placeholder="ì—¬ê¸°ì— ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”..."
                            class="textarea_SC"
                        ></textarea>
                        <div class="page-arrow">
                            <span class="arrow"></span>
                        </div>
                        <div
                            id="resultArea"
                            class="resultArea_SC"
                            style="text-align: left"
                        >
                            <table id="grammarTable">
                                <thead>
                                    <tr>
                                        <th>êµì •ë¬¸</th>
                                        <th>ê´€ë ¨ ê·œë²”&ì„¤ëª…</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                    <div
                        id="loadingSpinner"
                        style="
                            display: none;
                            text-align: center;
                            margin: 10px 0;
                        "
                    >
                        <div class="spinner"></div>
                        <p style="margin-top: 5px; color: gray">
                            â³ ì²˜ë¦¬ ì¤‘ì…ë‹ˆë‹¤...
                        </p>
                    </div>
                </div>
            </div>
        </main>

        <footer id="footer" class="footer">
            <div class="container footer-top">
                <div class="row gy-4">
                    <div class="col-lg-4 col-md-6 footer-about">
                        <a
                            href="index.html"
                            class="logo d-flex align-items-center"
                        >
                            <span class="sitename">StoryCraft</span>
                        </a>
                        <div class="footer-contact pt-3">
                            <p>ìƒëª…ëŒ€í•™êµ ì²œì•ˆìº í¼ìŠ¤</p>
                            <p>ì¶©ì²­ë‚¨ë„ ì²œì•ˆì‹œ ë™ë‚¨êµ¬ ìƒëª…ëŒ€ê¸¸ 31</p>
                            <p class="mt-3">
                                <strong>Phone:</strong>
                                <span>010-1234-1234</span>
                            </p>
                            <p>
                                <strong>Email:</strong>
                                <span>202200000@sangmyung.kr</span>
                            </p>
                        </div>
                        <div class="social-links d-flex mt-4">
                            <a href=""><i class="bi bi-twitter-x"></i></a>
                            <a href=""><i class="bi bi-facebook"></i></a>
                            <a href=""><i class="bi bi-instagram"></i></a>
                            <a href=""><i class="bi bi-linkedin"></i></a>
                        </div>
                    </div>

                    <div class="col-lg-2 col-md-3 footer-links">
                        <h4>Useful Links</h4>
                        <ul>
                            <li>
                                <a
                                    href="https://ko.dict.naver.com/#/main"
                                    target="_blank"
                                    >êµ­ì–´ì‚¬ì „</a
                                >
                            </li>
                            <li>
                                <a
                                    href="https://papago.naver.com/"
                                    target="_blank"
                                    >íŒŒíŒŒê³ </a
                                >
                            </li>
                            <li>
                                <a
                                    href="https://app.ludwig.guru/"
                                    target="_blank"
                                    >Ludwig(ì˜ì–´)</a
                                >
                            </li>
                            <li>
                                <a
                                    href="https://www.writecream.com/japanese-grammar-checker/"
                                    target="_blank"
                                    >WhiteCream(ì¼ë³¸ì–´)</a
                                >
                            </li>
                            <li>
                                <a
                                    href="https://ahelp.com/grammar-check/chinese/"
                                    target="_blank"
                                    >AHelp(ì¤‘êµ­ì–´)</a
                                >
                            </li>
                            <li>
                                <a
                                    href="https://quillbot.com/spanish-grammar-check"
                                    target="_blank"
                                    >QuillBot(ìŠ¤í˜ì¸ì–´)</a
                                >
                            </li>
                            <li>
                                <a
                                    href="https://languagetool.org/"
                                    target="_blank"
                                    >LanguageTool(ë‹¤ì–¸ì–´ ì§€ì›)</a
                                >
                            </li>
                        </ul>
                    </div>

                    <div class="col-lg-2 col-md-3 footer-links">
                        <h4>Our Services</h4>
                        <ul>
                            <li><a href="search.html">Search</a></li>
                            <li><a href="rewrite.html">Rewrite</a></li>
                            <li><a href="change-style.html">Style</a></li>
                            <li><a href="grammar.html">Grammar</a></li>
                            <li><a href="honorific.html">Honorific</a></li>
                            <li><a href="translate.html">Translate</a></li>
                            <li><a href="image.html">Scan</a></li>
                            <li><a href="speech.html">Speech</a></li>
                            <li><a href="editor.html">Editor</a></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="container copyright text-center mt-4">
                <p>
                    Â© <span>Copyright</span>
                    <strong class="px-1 sitename">Bikin</strong>
                    <span>All Rights Reserved</span>
                </p>
                <div class="credits">
                    <!-- All the links in the footer should remain intact. -->
                    <!-- You can delete the links only if you've purchased the pro version. -->
                    <!-- Licensing information: https://bootstrapmade.com/license/ -->
                    <!-- Purchase the pro version with working PHP/AJAX contact form: [buy-url] -->
                    Designed by
                    <a href="https://bootstrapmade.com/">BootstrapMade</a>
                </div>
            </div>
        </footer>

        <!-- Scroll Top -->
        <a
            href="#"
            id="scroll-top"
            class="scroll-top d-flex align-items-center justify-content-center"
            ><i class="bi bi-arrow-up-short"></i
        ></a>

        <!-- Preloader -->
        <div id="preloader"></div>

        <!-- Vendor JS Files -->
        <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
        <script src="assets/vendor/php-email-form/validate.js"></script>
        <script src="assets/vendor/aos/aos.js"></script>
        <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
        <script src="assets/vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>
        <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
        <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

        <!-- Main JS File -->
        <script src="assets/js/main.js"></script>
        <script src="assets/js/script.js"></script>
        <script src="https://unpkg.com/diff-match-patch"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.js"></script>

        <script>
            (() => {
                // ---- ì•ˆì „ ìœ í‹¸ (ì¤‘ë³µ ì„ ì–¸ ë°©ì§€) ----
                window.SC = window.SC || {};
                if (!window.SC.setHidden) {
                    window.SC.setHidden = (el, v) => {
                        if (el) el.hidden = !!v;
                    };
                }

                function removeIcons(text) {
                    if (typeof text !== 'string') return text || '';
                    // í•„ìš” ì‹œ ì•„ì´ì½˜/íƒœê·¸ ì œê±° ê·œì¹™ì€ ì—¬ê¸°ì„œ í™•ì¥
                    return text
                        .replace(/<i[^>]*>.*?<\/i>/g, '')
                        .replace(/[ğŸ–Šï¸ğŸ’¾]/g, '');
                }

                function $(sel) {
                    return document.querySelector(sel);
                }

                document.addEventListener('DOMContentLoaded', () => {
                    // ---- ì´ í˜ì´ì§€ì— ìˆì„ ìˆ˜ë„/ì—†ì„ ìˆ˜ë„ ìˆëŠ” ë©”ë‰´ë“¤: null ê°€ë“œ í•„ìˆ˜ ----
                    const menu = document.getElementById('customContextMenu');
                    const styleSubmenu =
                        document.getElementById('styleSubmenu');
                    const translateSubmenu =
                        document.getElementById('translateSubmenu');

                    function hideAllMenus() {
                        window.SC.setHidden(menu, true);
                        window.SC.setHidden(styleSubmenu, true);
                        window.SC.setHidden(translateSubmenu, true);
                    }
                    // ì˜ˆ: í•„ìš” ì‹œì—ë§Œ í˜¸ì¶œ
                    // hideAllMenus();

                    // ---- í•„ìˆ˜ ìš”ì†Œë“¤ ----
                    const grammarBtn = document.getElementById('grammarBtn');
                    const userInput = document.getElementById('userInput');
                    const spinner = document.getElementById('loadingSpinner');
                    const tbody = document.querySelector('#grammarTable tbody');

                    // ì•ˆì „ì„± ì²´í¬
                    if (!grammarBtn || !userInput || !spinner || !tbody) {
                        console.warn('[grammar] missing element', {
                            grammarBtn,
                            userInput,
                            spinner,
                            tbody,
                        });
                        return;
                    }

                    async function mistralGrammarSafe(e) {
                        e.preventDefault();

                        // ì…ë ¥ í…ìŠ¤íŠ¸ í™•ë³´ + ë°©ì–´
                        const original = (userInput.value ?? '').toString();
                        const inputText = removeIcons(original);

                        // ë¹ˆ ì…ë ¥ì´ë©´ í…Œì´ë¸” ì´ˆê¸°í™”ë§Œ
                        if (!inputText.trim()) {
                            tbody.innerHTML = '';
                            return;
                        }

                        // ìŠ¤í”¼ë„ˆ on
                        spinner.style.display = 'block';

                        try {
                            // === ì—¬ê¸°ì— ì‹¤ì œ API í˜¸ì¶œ/ì²˜ë¦¬ ë¡œì§ ===
                            // ì˜ˆì‹œ ì‘ë‹µ (ì‹¤ì‚¬ìš© ì‹œ fetch ëŒ€ì²´)
                            // const res = await fetch(...);
                            // const data = await res.json();
                            // const resultText = removeIcons(data?.output ?? '');
                        } catch (err) {
                            console.error('Fetch error:', err);
                            // ì‚¬ìš©ìê°€ ë³´ê²Œ ë  ì—ëŸ¬ í‘œì‹œ (ì›í•˜ë©´ resultAreaì— ë©”ì‹œì§€ ì¶œë ¥)
                            tbody.innerHTML = `
          <tr><td colspan="2" style="color:#c00">ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì–´ìš”. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.</td></tr>
        `;
                        } finally {
                            // ìŠ¤í”¼ë„ˆ off
                            spinner.style.display = 'none';
                        }
                    }

                    function escapeHtml(s) {
                        return String(s)
                            .replaceAll('&', '&amp;')
                            .replaceAll('<', '&lt;')
                            .replaceAll('>', '&gt;');
                    }
                });
            })();
        </script>
    </body>
</html>
